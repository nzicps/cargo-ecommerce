{% extends 'base.html' %}
{% block title %}Products{% endblock %}
{% block content %}
<h2 class="text-primary fw-bold mb-4">Products</h2>
<div class="row" id="products-container"></div>
<script>
const products = [
  {id:1, name:'Cargo Widget', price:19.99},
  {id:2, name:'Packing Box', price:9.99},
  {id:3, name:'Shipping Label', price:4.99}
];
function loadProducts() {
  const container = document.getElementById('products-container');
  products.forEach(p => {
    const card = document.createElement('div');
    card.className = 'col-md-4 mb-4';
    card.innerHTML = 
      <div class="card shadow-sm h-100 p-3">
        <h5 class="card-title"></h5>
        <p class="card-text">Green{p.price.toFixed(2)}</p>
        <button class="btn btn-success w-100" onclick="addToCart()">Add to Cart</button>
      </div>
    ;
    container.appendChild(card);
  });
}
function addToCart(id) {
  let cart = JSON.parse(localStorage.getItem('miniCart')||'{}');
  const product = products.find(p => p.id === id);
  if(cart[id]) cart[id].quantity +=1; else cart[id] = {...product, quantity:1};
  localStorage.setItem('miniCart', JSON.stringify(cart));
  alert(${product.name} added to cart!);
}
document.addEventListener('DOMContentLoaded', loadProducts);
</script>
{% endblock %}
